/* https://github.com/naniwa23/eztpl */var eztpl=function a(b,c){function d(a){return new RegExp(h.placeholder[0]+a+h.placeholder[1],"gm")}function e(a){var b=h.placeholder_block[0].replace("placeholder_name",a),c=h.placeholder_block[1].replace("placeholder_name",a);return new RegExp(b+"(.*?)"+c,"gm")}function f(a){var b=h.block[0].replace("blockname",a),c=h.block[1].replace("blockname",a);return new RegExp(b+"(.*?)"+c,"gm")}var g={},h=function(a){var b,c={remove_whitespaces:!0,placeholder:["::","::"],placeholder_block:["::=placeholder_name>::","::<placeholder_name=::"],block:["::>blockname>::","::<blockname<::"]};for(b in c)c.hasOwnProperty(b)&&a.hasOwnProperty(b)&&(c[b]=a[b]);return c}("object"==typeof c&&null!==c?c:{});return h.remove_whitespaces&&(b=b.replace(/(\n|\r|\t)*/gm,"")),g.setPlaceholderDelimiter=function(a,b){"string"==typeof a&&"string"==typeof b&&(h.placeholder=[a,b])},g.setPlaceholderBlockDelimiter=function(a,b){"string"==typeof a&&"string"==typeof b&&(h.placeholder_block=[a,b])},g.setBlockDelimiter=function(a,b){"string"==typeof a&&"string"==typeof b&&(h.block=[a,b])},g.replace=function(h,i){var j,k,l,m,n,o;if(h instanceof Object)for(o in h)h.hasOwnProperty(o)&&g.replace(o,h[o]);else if("string"==typeof h)if(i instanceof Array||i instanceof Object){if(j=f(h),k=b.match(j)){if(k=k[0],l="",k){for(n in i)i.hasOwnProperty(n)&&(m=new a(k,c),m.replace(i[n]),l+=m.getTpl());b=b.replace(j,l)}j=f(h),b=b.replace(j,"$1")}}else j=e(h),k=b.match(j),k?!1===i||""===i?b=b.replace(e(h),""):(b=b.replace(d(h),i),j=e(h),b=b.replace(j,"$1")):!1===i||""===i?(b=b.replace(d(h),""),b=b.replace(j,""),b=b.replace(f(h),"")):(b=b.replace(d(h),i),b=b.replace(j,"$1"))},g.delPlaceholder=function(a){b="string"==typeof a?b.replace(d(a),""):b.replace(d(".*?"),"")},g.delBlock=function(a){b="string"==typeof a?b.replace(f(a),""):b.replace(f(".*?"),"")},g.getTpl=function(a){var c,d;return a?(c=f(a),d=b.match(c)[0],d.replace(c,"$1")):b},g};"object"==typeof module&&"undefined"!=typeof module.exports&&(module.exports=eztpl);